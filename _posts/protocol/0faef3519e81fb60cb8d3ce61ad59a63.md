---
title: 什么是负载均衡？
category: 网络协议
date: 2025-07-08 11:43
difficulty: 中等
excerpt: 负载均衡是一种分配网络流量或请求到多台服务器的技术，用于提升系统性能和高可用性。
tags:
- 负载均衡
- 系统设计
- 高可用性
---
负载均衡是将网络流量或请求分配给多个服务器资源以实现以下目标的技术：
1.  **定义**：通过在多台服务器之间分发工作负载，优化资源使用，最大化吞吐量、最小化响应时间，并避免单点过载。常用组件包括负载均衡器（位于客户端和服务端之间），接收请求后选择后端服务器进行转发。
2.  **作用**：
    -   **提升系统性能**：分发高并发请求降低单个服务器压力，提高处理能力。
    -   **实现高可用性**：自动监控服务器状态，当某服务器故障时动态切换请求到健康实例。
    -   **增强可伸缩性**：动态添加或移除服务器以应对流量变化。
    -   **资源优化**：智能分配负载避免服务器空闲或崩溃。
3.  **主要类型**：
    -   **硬件负载均衡**：使用专用硬件设备（如F5、Cisco ACE），提供高性能和可靠性，适用高流量场景，但成本昂贵。
    -   **软件负载均衡**：依靠软件方案（如Nginx或HAProxy），部署在通用服务器上，灵活且成本低。
    -   **DNS负载均衡**：通过DNS服务器将同一域名解析到不同IP地址，实现简单但易受缓存影响。
    -   **应用层负载均衡（第七层）**：如HTTP、HTTPS，基于协议内容（如URL、头部）路由请求。
    -   **网络层负载均衡（第四层）**：如TCP/UDP，处理源和目标IP/端口。
4.  **常见调度算法**：
    - **轮询算法（Round Robin）**：请求循环顺序分配到服务器，适用于服务器性能相同场景。
    - **加权轮询算法（Weighted Round Robin）**：服务器基于性能分配权重，处理能力高的处理更多请求。
    - **最少连接数算法（Least Connections）**：动态将请求分配到当前连接最少的服务器，适合长期连接如FTP。
    - **源地址散列算法（Source IP Hash）**：根据客户端IP哈希值固定分发给相同服务器，确保会话一致性。
    - **随机算法（Random）**：随机分配请求，简单但不易控。
5.  **现代重要性**：用于Web应用、云计算和分布式系统，确保系统稳健运行。通过智能分发处理大规模访问挑战。

---
title: 什么是 CNAME 记录和 A 记录？
category: 网络协议
date: 2025-07-09 21:15
difficulty: 中等
excerpt: 解释了 DNS 中的两种记录类型：A 记录直接映射到 IP 地址，而 CNAME 创建别名。讨论了它们的差异、解析流程及适用场景。
tags:
- DNS
- 网络基础
- 基础知识
---
A 记录（Address Record）是一种 DNS 记录类型，用于直接将域名映射到一个具体的 IPv4 地址。设置 A 记录后，用户访问域名时，DNS 服务器会将该域名解析为设定的 IP 地址，例如 `www.example.com -> 8.8.8.8`，这对于固定 IP 的环境（如专用服务器）非常高效。

CNAME 记录（Canonical Name）也是 DNS 记录类型，用于创建一个域名的别名，将源域名映射到另一个目标域名（如将 `alias.example.com -> www.example.com`）。解析器会先查询 CNAME，获得目标域名后，再查询其 A 记录或相应解析结果。优点是在目标变化（如迁移服务器）时，只需修改目标域名的记录，从而统一管理。

以下是关键比较：

- **定义差异**：
  - A 记录：域名直接指向 IP 地址。
  - CNAME 记录：域名指向另一个域名（即别名）。
  
- **解析流程**：
  - A 记录： DNS 请求直接获取 IP，一步到位，速度较快。
  - CNAME 记录：需额外查询目标域名的解析结果（如递归查询多个 DNS），可能稍慢。
  
- **适用场景**：
  - A 记录：适合静态网络环境，例如单一应用服务器或不需要频繁迁移的站点。
  - CNAME 记录：用于简化管理（如一服务器下多个域名指向一个 A 记录）、CDN 配置（目标域名由内容商维护）和服务迁移场景。

核心优点是，A 记录提供直接性和速度优势，而 CNAME 记录增强灵活性且易于维护变更；但同一域名不能同时设置有效 A 和 CNAME 记录。
